% Source - https://tex.stackexchange.com/a/348653
% Posted by CroCo
% Retrieved 2026-02-03, License - CC BY-SA 3.0

\documentclass[a4paper,11pt]{beamer}
\usepackage[utf8]{inputenc}
\usepackage{xcolor}
\usepackage{listings}

\definecolor{mGreen}{rgb}{0,0.6,0}
\definecolor{mGray}{rgb}{0.5,0.5,0.5}
\definecolor{mPurple}{rgb}{0.58,0,0.82}
\definecolor{backgroundColour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{CStyle}{
    backgroundcolor=\color{backgroundColour},   
    commentstyle=\color{mGreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{mGray},
    stringstyle=\color{mPurple},
    basicstyle=\tiny,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2,
    language=C
}
%
%\lstset{
%  basicstyle=\fontsize{18}{18}\selectfont\ttfamily
%}

\begin{document}
\begin{frame}[fragile]
\begin{lstlisting}[style=CStyle]
// ...
Rec0 = ...;
Rec1 = ...;
Rec2 = ...;
Rec3 = ...;

if(currentState == state0 && Rec0) currentState = state1;
if(currentState == state1 && Rec1) currentState = state2;
if(currentState == state2 && Rec2) currentState = state3;
if(currentState == state3 && Rec3) currentState = state0;

switch(currentState) {
    case state1:
        task1();
        break;
    case state2:
        task2A();
        task2B();
        break;
    case state1:
        task3();
        break;
    default:
        taskDefault();
        break;
// ...
}
// ...
void taskDefault() {
    // ...
}
void task1() {
    //...
}
//...
\end{lstlisting}
\end{frame}

\end{document} 


