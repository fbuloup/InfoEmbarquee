% Source - https://tex.stackexchange.com/a/8646
% Posted by Caramdir, modified by community. See post 'Timeline' for change history
% Retrieved 2026-02-03, License - CC BY-SA 3.0

\documentclass{article}
\usepackage{tikz}
\usepackage{grafcet}

\begin{document}

\begin{figure}
\begin{tikzpicture}
\EtapeInitTransition[0,0]{0}{}{$Rec_0$}
\EtapeTransition{1}{$Task_1$}{$Rec_1$}
\EtapeTransition{2}{$Task_{2a}$,$Task_{2b}$}{$Rec_2$}
\EtapeTransition{3}{$Task_3$}{$Rec_3$}
\LienRetour{T3}{X0}
\end{tikzpicture}
\end{figure}

\begin{figure}
\begin{tikzpicture}
\EtapeInitTransition[0,0]{0}{}{$\underline{1}$}
\EtapeTransition{1}{$Red\: Led\: OFF$}{$bp\_1\downarrow$}
\Etape{2}
\ActionX{X2}{$Red\: Led\: ON$}
\Action{X2}{$T_{end} = time + 5sec$}
\ActionActiv{X2}
\Transition{2}\Recept{T2}{$time > T_{end}+bp\_1\downarrow$}
\LienRetour{T2}{X0}
\end{tikzpicture}
\end{figure}

\begin{figure}
\begin{tikzpicture}
\EtapeInitTransition[0,0]{0}{}{$\underline{1}$}
\EtapeTransition{1}{$Green\: Led\: OFF$}{$bp\_2\downarrow$}
\Etape{2}
\ActionX{X2}{$Green\: Led\: ON$}
\Action{X2}{$T_{fin} = time + 5sec$}
\ActionActiv{X2}
\Action{X2}{$T_{fin} = T_{fin} + 5sec$}
\ActionCond{X2}{$bp\_2\downarrow$}
\Transition{2}\Recept{T2}{$time > T_{fin}$}
\LienRetour{T2}{X0}
\end{tikzpicture}
\end{figure}

\end{document}
